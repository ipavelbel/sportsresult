<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Show</title>
</head>
<body>

<p th:text="${athlete.getName() + ', ' + athlete.getSurname() + ', ' + athlete.getAge()}">VALUE</p>

<div th:if="${teams}">
    <span>you can add team in athlete!</span>
    <form th:method="PATCH" th:action="@{/athletes/{id}/assign(id=${athlete.getId()})}">
        <label for="team">Choose team</label>
        <select th:object="${team}" th:field="*{id}" id="team">
            <option th:each="team : ${teams}" th:value="${team.getId()}" th:text="${team.getName()}">
            </option>
        </select>
        <input type="submit" value="submit"/>
    </form>
</div>

<div th:if="${teamsInAthlete.isEmpty()}">
    <p>Athlete without team </p>
    <hr/>
</div>
<div th:if="${!teamsInAthlete.isEmpty()}">
    <hr/>
    <b>Teams:</b>
    <br/>
    <table th:each="team : ${teamsInAthlete}">
        <tr>
            <td>
                <span>Athlete now in: </span><span th:text="${team.getName() + ', ' + team.getCoach()}">
                </span>
            </td>
            <td>
                <form th:method="PATCH" th:action="@{/athletes/{id}/{teamId}/releaseAthlete(id=${athlete.getId()},teamId=${team.getId()})}">
                    <input type="submit" value="Delete team"/>
                </form>
            </td>
        </tr>
    </table>
    <hr/>
</div>
<div th:if="${eventsInAthlete.isEmpty()}">
    <p>Athlete without events </p>
    <hr/>
</div>
<div th:if="${!eventsInAthlete.isEmpty()}">
    <hr/>
    <b>Events:</b>
    <br/>
    <table th:each="event : ${eventsInAthlete}">
        <tr>
            <td>
                <span>Athlete now in: </span><span th:text="${event.getName()+ ', ' + event.getPlace()}">
                </span>
            </td>
            <td>
                <form th:method="PATCH" th:action="@{/athletes/{id}/{eventId}/releaseEvent(id=${athlete.getId()},eventId=${event.getId()})}">
                    <input type="submit" value="Delete event"/>
                </form>
            </td>
        </tr>
    </table>
    <hr/>
</div>
</div>
<p><a href="/athletes">Back</a></p>
</div>
<!--<div th:if="${oneTeam}">-->
<!--    <span>Athlete now in: </span> <span th:text="${oneTeam.g}">Team Name</span>-->
<!--</div>-->
<hr/>
</body>
</html>